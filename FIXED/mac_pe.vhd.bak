library ieee;
use ieeelibrary ieee ;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

use work.mytypes.all;

entity multiplier is
	port
	(
		in_a			: in  signed (15 downto 0);
		in_b			: in  signed (15 downto 0);
		res			: out signed (15 downto 0);
	);
end multiplier;

architecture rtl of multiplier is

signal mul: unsigned (28 downto 0) := (others => '0');

begin
	
	mul <= unsigned(in_a) * unsigned(in_b);
	
	res (14 downto 0) <= mul (28 downto 14);
	res (15) <= in_a (15) xor in_b (15);
	
end rtl;